# 里程碑条目模板

完成里程碑时，将此条目添加到 `.planning/MILESTONES.md`：

```markdown
## v[X.Y] [名称]（已交付：YYYY-MM-DD）

**已交付：** [一句话描述交付的内容]

**已完成阶段：** [X-Y]（总计 [Z] 个计划）

**主要成就：**
- [主要成就 1]
- [主要成就 2]
- [主要成就 3]
- [主要成就 4]

**统计：**
- [X] 个文件已创建/修改
- [Y] 行代码（主要语言）
- [Z] 个阶段、[N] 个计划、[M] 个任务
- [D] 天从开始到交付（或从里程碑到里程碑）

**Git 范围：** `feat(XX-XX)` → `feat(YY-YY)`

**下一步：** [下一个里程碑目标的简要描述，或"项目完成"]

---
```

<structure>
如果 MILESTONES.md 不存在，创建它并带头部：

```markdown
# 项目里程碑：[项目名称]

[按时间倒序排列的条目 - 最新的在前]
```
</structure>

<guidelines>
**何时创建里程碑：**
- 初始 v1.0 MVP 已交付
- 主要版本发布（v2.0、v3.0）
- 重要的功能里程碑（v1.1、v1.2）
- 归档规划之前（捕获已交付的内容）

**不要为以下情况创建里程碑：**
- 单个阶段完成（正常工作流）
- 进行中的工作（等到交付）
- 不构成发布的小错误修复

**要包括的统计：**
- 计算修改的文件：`git diff --stat feat(XX-XX)..feat(YY-YY) | tail -1`
- 计算 LOC：`find . -name "*.swift" -o -name "*.ts" | xargs wc -l`（或相关扩展名）
- 来自 ROADMAP 的阶段/计划/任务计数
- 从第一次阶段提交到最后一次阶段提交的时间线

**Git 范围格式：**
- 里程碑的第一次提交 → 里程碑的最后一次提交
- 示例：阶段 1-4 的 `feat(01-01)` → `feat(04-01)`
</guidelines>

<example>
```markdown
# 项目里程碑：WeatherBar

## v1.1 安全与打磨（已交付：2025-12-10）

**已交付：** 使用 Keychain 集成的安全加固和全面的错误处理

**已完成阶段：** 5-6（总计 3 个计划）

**主要成就：**
- 将 API 密钥存储从纯文本迁移到 macOS Keychain
- 为网络失败实现全面的错误处理
- 添加 Sentry 崩溃报告集成
- 修复自动刷新定时器中的内存泄漏

**统计：**
- 23 个文件已修改
- 新增 650 行 Swift 代码
- 2 个阶段、3 个计划、12 个任务
- 从 v1.0 到 v1.1 共 8 天

**Git 范围：** `feat(05-01)` → `feat(06-02)`

**下一步：** v2.0 SwiftUI 重新设计，支持小组件

---

## v1.0 MVP（已交付：2025-11-25）

**已交付：** 菜单栏天气应用，具有当前状况和 3 天预报

**已完成阶段：** 1-4（总计 7 个计划）

**主要成就：**
- 带有弹出窗口 UI 的菜单栏应用（AppKit）
- OpenWeather API 集成，具有自动刷新
- 当前天气显示，带有状况图标
- 3 天预报列表，带有高/低温
- 代码签名和公证以供分发

**统计：**
- 创建了 47 个文件
- 2,450 行 Swift 代码
- 4 个阶段、7 个计划、28 个任务
- 从开始到交付共 12 天

**Git 范围：** `feat(01-01)` → `feat(04-01)`

**下一步：** 安全审计和加固以进行 v1.1
```
</example>
